<template>
    <div style="margin-top: 2rem; border: 1px solid gray; border-radius:4px; padding:1rem;">
        <lightning-layout>
            <!-- layout for showing the image -->
            <lightning-layout-item size="4">
                <img src={image} style="width:100%; height:auto; border-radius:4px; overflow:hidden;">
            </lightning-layout-item>
            <!-- layout to show all the recipe details -->
            <lightning-layout-item size="8" padding="horizontal-medium">
                <lightning-layout multiple-rows vertical-align="center">
                    <lightning-layout-item size="12">
                        <p class="slds-text-heading_medium" style="font-weight: bold;">{title}</p>
                    </lightning-layout-item>
                    <template if:true={hasDetails}>
                        <lightning-layout-item size="12" class="slds-var-m-top_medium">
                            <lightning-formatted-rich-text value={summary}></lightning-formatted-rich-text>
                        </lightning-layout-item>
                        <lightning-layout-item size="12">
                            <span class="slds-var-p_medium" style="font-weight: bold;">Ready In:
                            </span>
                            <lightning-formatted-number value={time}></lightning-formatted-number>
                            <!-- &nbsp;Minutes is used after a number to ensure the word "Minutes" stays attached to the number -->
                            &nbsp;Minutes
                        </lightning-layout-item>
                        <lightning-layout-item size="12">                        
                            <span class="slds-var-p_medium" style="font-weight: bold;">Dish Types:</span>
                            <lightning-formatted-text value={dishTypes}></lightning-formatted-text>
                        </lightning-layout-item>
                        <lightning-layout-item size="12">
                            <span class="slds-var-p_medium" style="font-weight: bold;">Diets:</span>
                            <lightning-formatted-text value={diets}></lightning-formatted-text>
                        </lightning-layout-item>
                        <!-- ingredients parts in the form of bullet point -->
                        <template if:true={ingredients}>
                            <br/>
                            <h2 class="slds-var-m-top_mediumm" style="font-weight: bold;"> Required  ingredients:</h2>
                            <lightning-layout-item size="12">
                                <ul class="slds-var-m-top_small">
                                    <template for:each={ingredients} for:item="ingredient">
                                        <li key={ingredient.Id} class="slds-var-m-top_small"> "&#8226;{ingredient}"</li>
                                    </template>
                                </ul>
                            </lightning-layout-item>
                        </template>
                        <template if:true={message}>
                            <br/>
                            {message}
                        </template>
                        <!-- Direction to use the recipe in the formate of numbering -->
                        <template if:true={analyzedInstructions}>
                            <h2 class="slds-var-m-top_mediumm" style="font-weight: bold;"> Directions:</h2>
                            <lightning-layout-item size="12">
                                <ul class="slds-var-m-top_small">
                                    <template for:each={analyzedInstructions} for:item="instruction">
                                        <template for:each={instruction.steps} for:item="steps">
                                            <li key={steps.number} class="slds-var-m-top_small">
                                                Step {steps.number}:{steps.step}
                                            </li>
                                        </template>
                                    </template>
                                </ul>    
                            </lightning-layout-item>
                        </template>
                    </template>
                    <!-- buttom yo get full recipe details , button get full recipe -->
                    <template if:false={hasDetails}>
                        <lightning-button label="Get full recipe" variant="brand" onclick={fetchRecipe} class="slds-var-m-top_large"></lightning-button>
                    </template>
                </lightning-layout>
            </lightning-layout-item>
        </lightning-layout>
    </div>
</template>